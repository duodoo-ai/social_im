# 接口文档

    https://developers.weixin.qq.com/doc/service/api/notify/template/api_sendtemplatemessage.html



# 在其他模块中使用微信消息服务
class SomeOtherModel(models.Model):
    _name = 'some.other.model'
    
    def some_business_method(self):
        # 获取微信消息服务
        wechat_service = self.env['wechat.notification.service']
        
        # 方式1：使用完整参数创建并发送消息
        message_vals = {
            'report_title': '新商机通知',
            'report_type': '商机报告',
            'report_target': '全体用户',
            'report_content': '发现新的商机机会，请及时查看处理...',
            'redirect_url': '/web#id=123&model=crm.lead&view_type=form',
            'message_title': '商机提醒'
        }
        
        success, message_id = wechat_service.create_and_send_message(message_vals)
        
        # 方式2：使用快捷方法
        wechat_service.send_quick_notification(
            title='系统提醒',
            content='您的订单已处理完成',
            message_type='system_notification',
            redirect_url='/web'
        )